<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="fabric.min.js"></script>

    <style>
        .canvas-wrapper {
            margin:40px auto;
            max-width:840px;
            max-height:640px;
            overflow:auto;
            border:1px outset grey;
            padding:10px;
        }

        #c {
            border: 1px solid red;
        }
    </style>
</head>
<body>
    <div class="canvas-wrapper">
        <canvas id="c" width="830" height="620"></canvas>
    </div>
</body>
</html>

<script>



    var layout = new Layout();

    function Layout() {
        var that = this;
        this.canvas = new fabric.Canvas('c');
        //this.canvas.setWidth(800);
        //this.canvas.setHeight(600);

        //rectangle
        this.rect = new fabric.Rect({
            left: 10, top: 10,
            fill: 'red',
            width: 20, height: 20,
            angle: 0
        });

        this.canvas.add(this.rect);

        var moveHandler = function (e) {
            var movingObject = e.target;
            //console.log(movingObject.get('left'), movingObject.get('top'));

            var x = movingObject.get('left');
            var y = movingObject.get('top');

            if (x > that.canvas.width - 100) {
                that.canvas.setWidth(that.canvas.width + 10);
            }


            if (y > that.canvas.height - 100) {
                that.canvas.setHeight(that.canvas.height + 10);
            }
        };


        this.canvas.on({
            'object:moving': moveHandler,
            //'object:modified': modifiedHandler,
            //'custom:event': customEvtHandler
        });
    };


    
</script>

